API

# --- filestorage ---

Description: download file
Route: '/protocol/download/{uuid}'
Method: GET

Description: upload file
Route: '/protocol/upload'
Method: POST

Description: get file info (uuid in query parameters)
Route: '/protocol/file_info?idFileStorage='
Method: GET

Description: get filestorages for construction_object
Route: 'construction_object/{id}/filestorages'
Method: GET


# --- meeting ---

Description: Get all meetings
Route: '/meeting_type'
Method: GET

Description: Add meeting
Route: '/meeting_type'
Method: POST

{
    "fullName": "full name 1"
}

---

Description: Delete meeting
Route: '/meeting_type/{id}'
Method: DELETE

Description: Edit meeting
Route: '/meeting_type/{id}'
Method: PUT

Description: Get meeting
Route: '/meeting_type/{id}'
Method: GET


# --- protocols ---

Description: Get all protocols
Route: '/protocol'
Method: GET

Description: Get filtered protocols
Route:
Method: GET
# /protocol?meeting=noteddd&protocolNumber=protocolnumssss&protocolName=protocolnameddd&dateStart='Thu Aug 06 2020'&dateEnd='Thu Aug 08 2020'

Description: Get protocol
Route: '/protocol/{id}'
Method: GET

Description: Create protocol
Route: '/protocol'
Method: POST

Description: Edit protocol
Route: '/protocol/{id}'
Method: PUT

Description: Delete protocol
Route: '/protocol/{id}'
Method: DELETE


# --- constructions ---

Description: Get all constructions (query parameters for filter)
Route: '/construction'
Method: GET

Description: Add construction
Route: '/construction'
Method: POST

Description: Delete construction
Route: '/construction/{id}'
Method: DELETE

Description: Edit construction
Route: '/construction/{id}'
Method: PUT

Description: Get construction
Route: '/construction/{id}'
Method: GET


# --- construction -> construction_objects ---

Description: Get all construction_objects
Route: 'construction/construction_objects/{construction_id}'
Method: GET


# --- construction_objects ---

---POST

Description: Add construction_object
Route: '/construction_object'
Method: POST

{
   "projectId": "27",
    "code": "24442",
    "name": "24442",
    "zone": 1,
    "category": 1,
    "plannedDate": "Thu Aug 22 2024",
    "weight": 44,
    "generalPlanNumber": "1",
    "buildingVolume": 1,
    "floorsAmount": 1,
    "stage": 3,
    "realtyType": 1
}

---

Description: Get construction_object
Route: '/construction_object/{id}'
Method: GET

--- PUT

Description: Edit construction_object
Route: '/construction_object/{id}'
Method: PUT

{
    "projectId": 28,
    "code": "95587",
    "name": "95587",
    "zone": 2,
    "category": 4,
    "plannedDate": "Thu Aug 11 2021",
    "weight": 11,
    "generalPlanNumber": 11,
    "buildingVolume": 11.0,
    "floorsAmount": 1,
    "stage": 3,
    "realtyType": 1,
    "constructionProgress": 27
}

---

Description: Delete construction_object
Route: '/construction_object/{id}'
Method: DELETE


# --- construction_categories ---

Description: Get all construction_categories
Route: '/construction_category'
Method: GET

Description: Get construction_category
Route: '/construction_category/{id}'
Method: GET

Description: Create construction_category
Route: '/construction_category'
Method: POST

Description: Edit construction_category
Route: '/construction_category/{id}'
Method: PUT

Description: Delete construction_categories
Route: '/construction_category/{id}'
Method: DELETE


# --- construction_subcategories ---

Description: Get all construction_subcategories
Route: '/construction_subcategory'
Method: GET

Description: Get construction_subcategory
Route: '/construction_subcategory/{id}'
Method: GET

Description: Create construction_subcategory
Route: '/construction_subcategory'
Method: POST

Description: Edit construction_subcategory
Route: '/construction_subcategory/{id}'
Method: PUT

Description: Delete construction_subcategories
Route: '/construction_subcategory/{id}'
Method: DELETE


# --- construction_stages ---

Description: Get all construction_stages
Route: '/construction_stage'
Method: GET

Description: Add construction_stage
Route: '/construction_stage'
Method: POST

Description: Get construction_stage
Route: '/construction_stage/{id}'
Method: GET

Description: Edit construction_stage
Route: '/construction_stage/{id}'
Method: PUT

Description: Delete construction_stage
Route: '/construction_stage/{id}'
Method: DELETE


# --- object_categories ---

Description: Get all object_categories
Route: '/object_category'
Method: GET

Description: Add object_categories
Route: '/object_category'
Method: POST

Description: Get object_category
Route: '/object_category/{id}'
Method: GET

Description: Edit object_categories
Route: '/object_category/{id}'
Method: PUT

Description: Delete object_categories
Route: '/object_category/{id}'
Method: DELETE


# --- zones ---

Description: Get all zones
Route: '/zone'
Method: GET

Description: Add zones
Route: '/zone'
Method: POST

Description: Get zones
Route: '/zone/{id}'
Method: GET

Description: Edit zones
Route: '/zone/{id}'
Method: PUT

Description: Delete zones
Route: '/zone/{id}'
Method: DELETE


# --- location_types ---

Description: Get all location_types
Route: '/location_type'
Method: GET

Description: Add location_type
Route: '/location_type'
Method: POST

Description: Get location_type
Route: '/location_type/{id}'
Method: GET

Description: Edit location_type
Route: '/location_type/{id}'
Method: PUT

Description: Delete location_type
Route: '/location_type/{id}'
Method: DELETE


# --- construction_companies ---

Description: Get all companies
Route: '/company'
Method: GET

Description: Add company
Route: '/company'
Method: POST

Description: Get company
Route: '/company/{id}'
Method: GET

Description: Edit company
Route: '/company/{id}'
Method: PUT

Description: Delete company
Route: '/company/{id}'
Method: DELETE


# --- oksm ---

Description: Get all oksms
Route: '/oksm'
Method: GET

Description: Add oksm
Route: '/oksm'
Method: POST

Description: Get oksm
Route: '/oksm/{id}'
Method: GET

Description: Edit oksm
Route: '/oksm/{id}'
Method: PUT

Description: Delete oksm
Route: '/oksm/{id}'
Method: DELETE


# --- commissions ---

Description: Get all commissions
Route: '/commission'
Method: GET

Description: Add construction
Route: '/commission'
Method: POST

Description: Delete construction
Route: '/commission/{id}'
Method: DELETE

Description: Edit construction
Route: '/commission/{id}'
Method: PUT

Description: Get construction
Route: '/commission/{id}'
Method: GET


# --- military_units ---

Description: Get all military_units
Route: '/military_unit'
Method: GET


# --- locations ---

Description: Get all locations
Route: '/location'
Method: GET


# --- object_categories_lists ---

Description: Get all object_categories_lists
Route: '/object_categories_lists'
Method: GET


# --- subcategories_lists ---

Description: Get all subcategories_lists
Route: '/subcategories_lists'
Method: GET


# --- construction_document ---

Description: Get all construction_documents by construction
Route: 'construction/{id}/construction_documents'
Method: GET

Description: Get all construction_documents by object
Route: 'construction_object/{id}/construction_documents'
Method: GET

Description: Get all construction_document
Route: '/construction_document'
Method: GET

Description: Add construction_document
Route: '/construction_document'
Method: POST

Description: Get construction_document
Route: '/construction_document/{id}'
Method: GET

Description: Delete construction_document
Route: '/construction_document/{id}'


# --- construction_progress ---

Description: Get all construction_progresses by object
Route: 'construction_object/{id}/construction_progresses'
Method: GET

Description: Add construction_progress
Route: '/construction_progress'
Method: POST

Description: Get construction_progress
Route: '/construction_progress/{id}'
Method: GET

Description: Delete construction_progress
Route: '/construction_progress/{id}'


# --- doc_type ---

Description: Get all doc_type
Route: '/doc_type'
Method: GET

Description: Add doc_type
Route: '/doc_type'
Method: POST

Description: Get doc_type
Route: '/doc_type/{id}'
Method: GET

Description: Delete doc_type
Route: '/doc_type/{id}'


# ---object_file---

Description: Get all object_file
Route: '/object_file'
Method: GET

Description: Get object_file
Route: '/object_file/{id}'
Method: GET

Description: Delete object_file
Route: '/object_file/{id}'

---POST

Description: Add object_file
Route: '/object_file'
Method: POST

{
    "idFileStorage": "497d437f-d374-4e22-b056-789bc36edf89",
    "constructionObjectId": 15,
    "note": "...This is description for ObjectFile"
}

---

---PUT

Description: Edit object_file
Route: '/object_file/{id}'
Method: PUT

{
    "idFileStorage": "497d437f-d374-4e22-b056-789bc36edf89",
    "constructionObjectId": 15,
    "note": "...This is description for ObjectFile"
}

---

---GET by object

Description: Get object_files by object
Route: 'construction_object/{id}/object_files'
Method: GET

[
    {
        "id": 10,
        "file": {
            "idFileStorage": "011cd637-1b9e-4c0d-ac8e-9bae4d57ef24",
            "name": "ATT00001 (3).txt",
            "size": "1.10Кб"
        },
        "constructionObjectId": 1,
        "uploadDate": "29.09.2020 18:18:47",
        "note": "description"
    },
    {
        "id": 15,
        "file": {
            "idFileStorage": "26b55623-f6c2-4e04-9f0d-0342495ff980",
            "name": "ATT00001 (3).txt",
            "size": "1.10Кб"
        },
        "constructionObjectId": 1,
        "uploadDate": "06.10.2020 14:58:22",
        "note": "This is description"
    }
]

---

# --- measure_unit ---

Description: Get all measure_unit
Route: '/measure_unit'
Method: GET

Description: Add measure_unit
Route: '/measure_unit'
Method: POST

Description: Get measure_unit
Route: '/measure_unit/{id}'
Method: GET

Description: Delete measure_unit
Route: '/measure_unit/{id}'


# --- contract_status ---

Description: Get all contract_statuses
Route: '/contract_status'
Method: GET

Description: Add contract_status
Route: '/contract_status'
Method: POST

Description: Get contract_status
Route: '/contract_status/{id}'
Method: GET

Description: Delete contract_status
Route: '/contract_status/{id}'


# --- element_type ---

Description: Get all element_type
Route: '/element_type'
Method: GET

Description: Add element_type
Route: '/element_type'
Method: POST

Description: Get element_type
Route: '/element_type/{id}'
Method: GET

Description: Delete element_type
Route: '/element_type/{id}'


# --- progress_status ---

Description: Get all progress_statuses
Route: '/progress_status'
Method: GET

Description: Add progress_status
Route: '/progress_status'
Method: POST

Description: Get progress_status
Route: '/progress_status/{id}'
Method: GET

Description: Delete progress_status
Route: '/progress_status/{id}'


# --- FIAS ---

Description: Get subjects
Route: '/fias/subject/{text}'
Method: GET

Description: Get districts
Route: '/fias/district/{text}'
Method: GET
{
    "subject": "обл Белгородская"
}
{}

Description: Get cities
Route: '/fias/city/{text}'
Method: GET
{
    "subject": "обл Белгородская",
    "district": "р-н Белгородский"
}
{
    "subject": "обл Белгородская"
}
{}

Description: Get localities
Route: '/fias/locality/{text}'
Method: GET
{
    "subject": "обл Белгородская",
    "district": "р-н Белгородский"
}
{
    "subject": "обл Белгородская"
}
{}

Description: Get remaining_addresses
Route: '/fias/remaining_address/{text}'
Method: GET
{
    "subject": "обл Белгородская",
    "district": "р-н Белгородский",
    "locality": "пгт Разумное"
}
{
    "subject": "обл Белгородская",
    "district": "р-н Белгородский",
    "city": "г. Белгород"
}
{
    "subject": "обл Белгородская",
    "city": "г Белгород"
}


=====================================================================================================

ConstructionDocument {
    'id'            Integer
    'constructionId'Integer
    'docType'{
                "id"        Integer
                "code"      String
                "fullName"  String
                }
    'docNumber'     String
    'docDate'       String
    'docName'       String
    'note'          String
    'uploadDate'    String
    'file' {
            'name'          String
            'size'          String
            'idFileStorage' String
    }
}

ConstructionObject {

    ...

    'realtyType'            Integer
    'factDate'              String
    'constructionProgress'  {
            readiness             DECIMAL(17,2)
            people                Integer
            equipment             Integer
            progressStatusesId    Integer
    }
    'documents':    [ConstructionDocument{}, ConstructionDocument{}, ...],
    'files':        [Filestorage{}, Filestorage{}, ...]
}

ConstructionProgress {
    id                        Integer
    constructionObjectsId     Integer
    reportingDate             String
    readiness                 DECIMAL(17, 2)
    people                    Integer
    equipment                 Integer
    progressStatusesId        Integer
    updateDatetime            String

}

MeasureUnit {
    id          Integer
    code        String
    name        String
}

DocType {
    id          Integer
    code        String
    fullName    String
}

ContractStatus {
    id          Integer
    fullName    String
}

ElementType {
    id          Integer
    fullName    String
}

ProgressStatus {
    id          Integer
    fullName    String
}

ObjectFile {
    idFileStorage       String
    constructionObjects Integer
    note                String
    uploadDate          String
}

FIAS {
    id                  Integer
    subject             String
    district            String
    city                String
    locality            String
    remainingAddress    String
}